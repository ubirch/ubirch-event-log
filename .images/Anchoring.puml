@startuml
'https://plantuml.com/sequence-diagram

autonumber

participant identity [
  <<Identity>>
 Device|Thing
]
participant trust_service_anchoring [
  <<Anchoring>>
  Ubirch Trust Service
]

identity -> trust_service_anchoring: sends micro-certificate as UPP
trust_service_anchoring -> trust_service_anchoring: authenticates
trust_service_anchoring -> trust_service_anchoring: decodes and verifies UPP
trust_service_anchoring -> trust_service_anchoring: applies filters to UPP
trust_service_anchoring -> trust_service_anchoring: stores UPP
identity <-- trust_service_anchoring: sends UPP signed response back
trust_service_anchoring -> trust_service_anchoring: aggregates different UPPs\nand creates side chain
trust_service_anchoring -> trust_service_anchoring: runs misc tasks
trust_service_anchoring -> blockchains: anchors root hashes from side chain
... some delay: anchoring frequency & tx response ...
blockchains --> trust_service_anchoring: tx info
trust_service_anchoring -> trust_service_anchoring: storage and postprocessing of\nblockchain responses

@enduml
