## Access Token

In order for a verification request be received and executed, the initiator  must provide proof that it has been granted with the required permissions. In order to do so, its verification request must contain an Authorization header. 

#### The Header

```
Authorization: <type> <token>

where 
  <type> is Bearer
  <token> is the JWT token generated by the tenant/customer.

``` 
  
#### The Responses

```
The <response> codes could be:


1. <200 OK>           When the system found a proper verification.
2. <404 Not Found>    When no verfication was found or successful.
3. <403 Forbidden>    When the token is invalid.
4. <401 Unauthorized> When no Authorization header is found in the request.
                      In this case, the response will contain the following header 
                      WWW-Authenticate: <type> realm=<realm>
                      
                      where <type> is Bearer and
                           <realm> is "Verification Access"
```


#### Example

```
Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJFUzI1NiJ9.eyJpc3MiOiJ1YmlyY2giLCJzdWIiOiJLaW5nIER1ZGUgLSBDb25jZXJ0IiwiYXVkIjpbIjdkNjAxOGMwLWYxMGItNDMzMC05OWZiLWNkMjlmNTJhZTlmYSIsImJiNTA1ZDMyLWI1ZWMtNGY4ZC04MTZkLTc2MWNlODJmMzY1NyJdLCJleHAiOjIyMzM3Mzg3ODUsImlhdCI6MTYwMjU5OTc0NSwianRpIjoiMjg4MWU1ZjgtM2Q0Yi00YTFkLWJlNzgtYjY3ODM3YTM4M2ZhIiwicm9sZSI6InZlcmlmaWVyIiwiZW52IjoicHJvZCJ9.FdlORYWyctbuf6PertT-mr2bgl_hhQcyac12yleZ-N_X7qgBCkWq4ozyTuSKV6GwAhtfT8tBGXbC0Eu8F6dAUQ
```

This token has the following header:

```json
{
  "typ": "JWT",
  "alg": "HS256"
}
```

```json
{
  "iss": "ubirch",
  "sub": "King Dude - Concert",
  "aud": "bb505d32-b5ec-4f8d-816d-761ce82f3657",
  "exp": 2233738785,
  "iat": 1602599745,
  "jti": "2881e5f8-3d4b-4a1d-be78-b67837a383fa",
  "role": "verifier",
  "env": "prod"
}
```

```
Where 
    'iss' is Principal Entity that signs the tokens
    'sub' is the purpose or subject for this token. 
    'aud' target tenant. 
    'exp' is the expiration time
    'iat' is the initial time
    'jti' is a unique uuid id for the token
    'role' is the role that was assigned to this token
    'env' is the stage of the verification system
```
        


